<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        * {
            -webkit-font-smoothing: subpixel-antialiased;
            -moz-osx-font-smoothing: auto;
        }
        body { margin: 0; background: #f4f7f6; overflow: hidden; }
        .slider-outer {
            width: 100%;
            max-width: 1400px;
            margin: 100px auto;
            overflow: visible;
            padding: 120px 0 200px 0;
            perspective: 2000px;
            position: relative;
        }
      
        .floor-3d {
            position: absolute;
            bottom: 25px;
            left: 0;
            right: 0;
            width: 100%;
            height: 200px;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            perspective: 1500px;
            transform-style: preserve-3d;
            pointer-events: none;
        }
      
        .floor-text {
            font-size: 85px;
            font-weight: 900;
            color: #ffffff !important;
            text-align: center;
            line-height: 1.3;
            letter-spacing: 8px;
            text-shadow:
                0 3px 6px rgba(0,0,0,0.3),
                0 6px 12px rgba(0,0,0,0.2),
                0 12px 24px rgba(0,0,0,0.15);
            transform: rotateX(60deg) translateZ(-50px);
            transform-style: preserve-3d;
            white-space: nowrap;
        }
        
        .floor-text .char {
            display: inline-block;
        }
        
        @keyframes charFadeIn {
            /* JavaScript에서 동적으로 생성됨 */
        }
      
        .slider-track { display: flex; gap: 80px; width: max-content; will-change: transform; transform-style: preserve-3d; }
     
        .card-wrapper {
            display: block;
            position: relative;
            flex-shrink: 0;
            cursor: pointer;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
        }
        .card-wrapper:hover { transform: translateY(-20px) translateZ(30px); }
     
        .flip-card {
            width: 290px;
            height: 350px;
            backface-visibility: hidden;
            will-change: transform, opacity;
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            transition: filter 0.3s ease, box-shadow 0.3s ease;
            transform-style: preserve-3d;
        }
        .flip-card:hover { filter: brightness(1.15); }
     
        .flip-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
            transform: translateZ(0);
        }
        .flip-card:hover .flip-inner { transform: rotateY(-180deg) translateZ(20px); }
     
        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 30px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            box-shadow:
                0 25px 70px rgba(0,0,0,0.35),
                0 10px 25px rgba(0,0,0,0.25),
                inset 0 -2px 10px rgba(0,0,0,0.1);
            text-align: center;
            font-family: sans-serif;
            transform: translateZ(0);
            transition: box-shadow 0.4s ease;
        }
        .flip-card:hover .front,
        .flip-card:hover .back {
            box-shadow:
                0 40px 100px rgba(0,0,0,0.5),
                0 15px 40px rgba(0,0,0,0.35),
                inset 0 -2px 15px rgba(0,0,0,0.15);
        }
     
        .bg-wrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            overflow: hidden;
        }
        .bg-wrap img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top:0;
            left:0;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            transition: transform 0.5s ease;
        }
        .flip-card:hover .bg-wrap img { transform: scale(1.1); }
     
        .front-overlay {
            position: relative;
            z-index: 2;
            background: linear-gradient(135deg, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.4) 100%);
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            transition: background 0.3s ease;
        }
        .flip-card:hover .front-overlay { background: linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.5) 100%); }
     
        .back { transform: rotateY(-180deg); padding: 30px; box-sizing: border-box; }
     
        h2, h3 {
            margin: 0;
            font-weight: bold;
            text-rendering: geometricPrecision;
            -webkit-font-smoothing: subpixel-antialiased;
            -moz-osx-font-smoothing: auto;
            transition: transform 0.3s ease;
            text-shadow:
                2px 2px 4px rgba(0,0,0,0.4),
                0 0 10px rgba(0,0,0,0.2);
        }
        .flip-card:hover h2,
        .flip-card:hover h3 { transform: scale(1.05) translateZ(10px); }
     
        .title-icon {
            display: inline-block;
            margin-right: 12px;
            font-weight: bold;
            font-size: 1.2em;
            animation: iconPulse 2s ease-in-out infinite;
        }
        @keyframes iconPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.15); opacity: 0.85; }
        }
     
        .subtitle-text {
            margin: 12px auto 0;
            font-weight: 600;
            text-rendering: geometricPrecision;
            -webkit-font-smoothing: subpixel-antialiased;
            -moz-osx-font-smoothing: auto;
            max-width: 85%;
            line-height: 1.6;
            word-break: keep-all;
            text-align: center;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        .back .subtitle-text {
            max-width: 90%;
            margin-top: 15px;
        }
     
        .cta-button {
            margin-top: 20px;
            padding: 12px 30px;
            background: rgba(255,255,255,0.2);
            border: 2px solid white;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        .cta-button:hover {
            background: white;
            color: #1D4E89;
            transform: scale(1.08) translateZ(10px);
        }
     
        .click-indicator {
            position: absolute;
            bottom: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            z-index: 10;
        }
    </style>
</head>
<body>
    <div class="slider-outer" id="outer">
        <div class="slider-track" id="track"></div>
        <div class="floor-3d">
            <div class="floor-text" id="floor-text" style="color: #ffffff;"></div>
        </div>
    </div>
    <script>
        const SLIDE_DATA = [
    {
        "title": "PCB 설계",
        "sub": "표준 설계 가이드 적용으로 설계 리스크 감소",
        "tColor": "#ffffff",
        "sColor": "#ffffff",
        "backText": "최첨단 설비를 통한 고품질 PCB 생산 공정을 지원합니다.",
        "color": "#1D4E89",
        "img": "",
        "link": "#",
        "bTitle": "PCB 설계",
        "bSub": "생산 품질 확보를 고려한 설계",
        "bColor": "#1D4E89",
        "btColor": "#ffffff",
        "url": "https://kmtek.co.kr/pcb-design/",
        "tSize": "40",
        "sSize": "25",
        "btSize": "40",
        "bsSize": "25",
        "bsColor": "ffffff",
        "tIcon": "✓",
        "btIcon": "·",
        "tOpacity": "0.9",
        "sOpacity": "0.8",
        "btOpacity": "0.9",
        "bsOpacity": "0.8"
    },
    {
        "title": "PCB 제조",
        "sub": "설비 가동 조건 표준화",
        "tColor": "#ffffff",
        "sColor": "ffffff",
        "backText": "최첨단 설비를 통한 고품질 PCB 생산 공정을 지원합니다.",
        "color": "#1D4E89",
        "img": "",
        "link": "#",
        "bTitle": "PCB 제조",
        "bSub": "전 공정 품질 일관성 확보",
        "bColor": "#1D4E89",
        "btColor": "#ffffff",
        "url": "https://kmtek.co.kr/pcb-manufacturing/",
        "tSize": "40",
        "sSize": "25",
        "btSize": "40",
        "bsSize": "25",
        "bsColor": "ffffff",
        "tIcon": "✓",
        "btIcon": "·",
        "tOpacity": "0.9",
        "sOpacity": "0.8",
        "btOpacity": "0.9",
        "bsOpacity": "0.8"
    },
    {
        "title": "PCB 조립",
        "sub": "최적 실장 조건 생산 라인 적용",
        "tColor": "#ffffff",
        "sColor": "ffffff",
        "backText": "최첨단 설비를 통한 고품질 PCB 생산 공정을 지원합니다.",
        "color": "#1D4E89",
        "img": "",
        "link": "#",
        "bTitle": "PCB 조립",
        "bSub": "공정 흐름 최적화로 생산 정체 방지",
        "bColor": "#1D4E89",
        "btColor": "#ffffff",
        "url": "https://kmtek.co.kr/pcb-assembly/",
        "tSize": "40",
        "sSize": "25",
        "btSize": "40",
        "bsSize": "25",
        "bsColor": "ffffff",
        "tIcon": "✓",
        "btIcon": "·",
        "tOpacity": "0.9",
        "sOpacity": "0.8",
        "btOpacity": "0.9",
        "bsOpacity": "0.8"
    },
    {
        "title": "전자부품",
        "sub": "부품 규격 기준의 검증된 공급망 운영",
        "tColor": "#ffffff",
        "sColor": "ffffff",
        "backText": "최첨단 설비를 통한 고품질 PCB 생산 공정을 지원합니다.",
        "color": "#1D4E89",
        "img": "",
        "link": "#",
        "bTitle": "전자부품",
        "bSub": "사양 일치 확인 자재 출고",
        "bColor": "#1D4E89",
        "btColor": "#ffffff",
        "url": "https://kmtek.co.kr/electronic-components/",
        "tSize": "40",
        "sSize": "25",
        "btSize": "40",
        "bsSize": "25",
        "bsColor": "ffffff",
        "tIcon": "✓",
        "btIcon": "·",
        "tOpacity": "0.9",
        "sOpacity": "0.8",
        "btOpacity": "0.9",
        "bsOpacity": "0.8"
    },
    {
        "title": "기타서비스",
        "sub": "생산 최적화를 위한 기구·치공구 제작",
        "tColor": "#ffffff",
        "sColor": "ffffff",
        "backText": "최첨단 설비를 통한 고품질 PCB 생산 공정을 지원합니다.",
        "color": "#1D4E89",
        "img": "",
        "link": "#",
        "bTitle": "기타서비스",
        "bSub": "전문 기술 인력의 BGA 리볼링 및 보드 리페어",
        "bColor": "#1D4E89",
        "btColor": "#ffffff",
        "url": "https://kmtek.co.kr/other-service/",
        "tSize": "40",
        "sSize": "25",
        "btSize": "40",
        "bsSize": "25",
        "bsColor": "ffffff",
        "tIcon": "✓",
        "btIcon": "·",
        "tOpacity": "0.9",
        "sOpacity": "0.8",
        "btOpacity": "0.9",
        "bsOpacity": "0.8"
    }
];
        
        function createKeyframes(startOpacity, endOpacity) {
            const animName = `charFadeIn-${String(startOpacity).replace('.', '_')}-${String(endOpacity).replace('.', '_')}`;
            const styleId = `keyframes-${String(startOpacity).replace('.', '_')}-${String(endOpacity).replace('.', '_')}`;
            
            let existingStyle = document.getElementById(styleId);
            if (existingStyle) {
                existingStyle.remove();
            }
            
            const style = document.createElement('style');
            style.id = styleId;
            style.textContent = `
                @keyframes ${animName} {
                    0% { opacity: ${startOpacity}; }
                    100% { opacity: ${endOpacity}; }
                }
            `;
            document.head.appendChild(style);
        }
        
        function wrapTextWithSpans(text, startDelay = 0, startOpacity, endOpacity, color = '#ffffff') {
            const chars = text.split('').filter(char => char !== ' ');
            const totalChars = chars.length;
            const delayPerChar = 0.3;
            const fadeInDuration = 0.8;
            
            const animName = `charFadeIn-${String(startOpacity).replace('.', '_')}-${String(endOpacity).replace('.', '_')}`;
            
            let charIndex = 0;
            return text.split('').map((char, index) => {
                if (char === ' ') {
                    return ' ';
                }
                const delay = startDelay + (charIndex * delayPerChar);
                charIndex++;
                return `<span class="char" style="color: ${color}; opacity: ${startOpacity}; animation: ${animName} ${fadeInDuration}s ease-out ${delay}s forwards">${char}</span>`;
            }).join('');
        }
        
        const startOpacity = 0.3;
        const endOpacity = 0.8;
        createKeyframes(startOpacity, endOpacity);
        
        const floorTextElement = document.getElementById('floor-text');
        const line1CharCount = 'PCB 솔루션'.split('').filter(char => char !== ' ').length;
        const line2StartDelay = line1CharCount * 0.3;
        const wrappedText1 = wrapTextWithSpans('PCB 솔루션', 0, startOpacity, endOpacity, '#ffffff');
        const wrappedText2 = wrapTextWithSpans('KMT가 이끌어 갑니다', line2StartDelay, startOpacity, endOpacity, '#ffffff');
        floorTextElement.innerHTML = `${wrappedText1}<br>${wrappedText2}`;
     
        const track = document.getElementById('track');
        const outer = document.getElementById('outer');
     
        [...SLIDE_DATA, ...SLIDE_DATA, ...SLIDE_DATA, ...SLIDE_DATA, ...SLIDE_DATA].forEach(item => {
            const wrapper = document.createElement('div');
            wrapper.className = 'card-wrapper';
         
            if (item.url) {
                wrapper.onclick = function() {
                    window.location.href = item.url;
                };
            }
         
            const frontIcon = item.tIcon ? `<span class="title-icon">${item.tIcon}</span>` : '';
            const backIcon = item.btIcon ? `<span class="title-icon">${item.btIcon}</span>` : '';
            const tOpacity = item.tOpacity !== undefined ? item.tOpacity : 1;
            const sOpacity = item.sOpacity !== undefined ? item.sOpacity : 1;
            const btOpacity = item.btOpacity !== undefined ? item.btOpacity : 1;
            const bsOpacity = item.bsOpacity !== undefined ? item.bsOpacity : 1;
         
            wrapper.innerHTML = `<div class="flip-card" style="width:290px;height:350px"><div class="flip-inner"><div class="front"><div class="bg-wrap" style="background:linear-gradient(135deg,${item.color} 0%,${item.color}dd 100%)">${item.img?`<img src="${item.img}" alt="${item.title}">`:''}</div><div class="front-overlay"><h2 style="color:${item.tColor};font-size:${item.tSize}px;opacity:${tOpacity};">${frontIcon}${item.tNum?item.tNum+'. ':''}${item.title}</h2><p class="subtitle-text" style="color:${item.sColor};font-size:${item.sSize}px;opacity:${sOpacity};">${item.sub}${item.sNum?' ('+item.sNum+')':''}</p></div><div class="click-indicator">→</div></div><div class="back" style="background:linear-gradient(135deg,${item.bColor} 0%,${item.bColor}dd 100%)"><h3 style="color:${item.btColor};font-size:${item.btSize}px;opacity:${btOpacity};">${backIcon}${item.btNum?item.btNum+'. ':''}${item.bTitle}</h3><p class="subtitle-text" style="color:${item.bsColor};font-size:${item.bsSize}px;opacity:${bsOpacity};">${item.bSub}${item.bsNum?' ('+item.bsNum+')':''}</p><button class="cta-button">자세히 보기</button></div></div></div>`;
         
            track.appendChild(wrapper);
        });
     
        let currentPosX = -((290 + 80) * SLIDE_DATA.length) * 2;
     
        function animate() {
            if (!window.isHovered) {
                currentPosX -= 0.8;
                if (currentPosX <= -((290 + 80) * SLIDE_DATA.length) * 3) {
                    currentPosX += ((290 + 80) * SLIDE_DATA.length);
                }
            }
            track.style.transform = `translate3d(${currentPosX}px, 0, 0)`;
         
            const centerX = outer.getBoundingClientRect().left + outer.offsetWidth / 2;
            const cards = track.getElementsByClassName('flip-card');
         
            for (let card of cards) {
                const rect = card.getBoundingClientRect();
                const cardMid = rect.left + rect.width / 2;
                const distance = Math.abs(centerX - cardMid);
             
                const ratio = Math.sin(Math.max(0, 1 - (distance / 800)) * Math.PI / 2);
                const scale = 0.3 + 0.9 * ratio;
                const translateZ = ratio * 80;
             
                card.style.transform = `perspective(1200px) translateZ(${translateZ}px) scale(${scale})`;
                card.style.opacity = scale < 0.4 ? 0 : 1;
            }
         
            requestAnimationFrame(animate);
        }
     
        outer.onmouseenter = () => window.isHovered = true;
        outer.onmouseleave = () => window.isHovered = false;
     
        animate();
    </script>
</body>
</html>